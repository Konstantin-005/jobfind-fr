Цели и охват
Создать двусторонний сервис поиска работы и подбора кандидатов: публикация вакансий и резюме, поиск, отклики и чат.

Обеспечить высокую скорость и SEO за счет Next.js App Router с SSG/ISR и динамической генерацией Open Graph изображений.

Роли
Соискатель: ведение профиля и резюме, поиск и сохранение вакансий, отклики, переписка с работодателями.

Работодатель/рекрутер: профиль компании, публикация и управление вакансиями, обработка откликов, чат с кандидатами.

Администратор: управление справочниками и модерацией контента, служебные операции.

Ключевые сценарии
Соискатель: создание профиля и резюме (образование, опыт, навыки), поиск по фильтрам, отклик и старт чата.

Работодатель: создание профиля компании, адресов, публикация вакансий, работа с откликами и чат.

Общие: восстановление пароля, управление видимостью резюме для компаний, избранные вакансии.

Рендеринг и кеширование: SSG для статических и справочных страниц; ISR для списков и карточек вакансий/компаний/резюме; управляемое revalidate на уровне маршрутов.

Технологический стек
Next.js 14 (App Router), TypeScript, Tailwind CSS, маршруты и layouts, серверные actions для безопасной обработки форм.

JWT для аутентификации и авторизации; контейнеризация и оркестрация по мере масштабирования.

Маршруты фронтенда (App Router)
Публичные списки и карточки: /vacancy, /vacancy/[id], /companies, /companies/[id] с SSG/ISR и динамическими параметрами.

регистариция и авторизация: /register, /register/employer, /login, /forgot-password, /reset-password

Личный кабинет соискателя: /profile, /resume, /resume/[id], /resume/[id]/edit, /applications, /chats/[roomId]; защищенные сегменты и клиентские компоненты для интерактива.

Личный кабинет работодателя: /employer/profile, /employer/mycompanies, /employer/mycompanies/[id], /employer/mycompanies/[id]/edit, /employer/addcompany, /employer/vacancies, /employer/vacancies/[id], /employer/vacancies/[id]/edit, /employer/addvacancy, /employer/applications; защищенные сегменты и клиентские компоненты для интерактива.

Публикация и управление: /post-job, /company/profile; формы с серверными actions и валидацией.

Стратегия SSG/ISR
Списки вакансий: ISR, пагинация с revalidate 60–300 сек в зависимости от нагрузки и частоты обновлений.

Карточки вакансий/компаний/резюме: ISR с on-demand регенерацией при первом обращении и обновлением при изменениях.

Справочники: SSG с редкой регенерацией или принудительным обновлением после админских правок.

Open Graph изображения
Для /vacancy/[id], /companies/[id], /resumes/[id] — opengraph-image  с динамической вёрсткой через ImageResponse.

Единый бренд-шаблон, параметры темы и гарантия размеров 1200x630; fallback-изображения.

UI и доступность
Tailwind CSS, единая дизайн-система, адаптивные сетки и компоненты списков/карточек/форм.

A11y: семантика, фокус-стили, корректные лейблы форм, навигация с клавиатуры, контраст.

SEO, метаданные и OG
Метаданные маршрутов: заголовки, descriptions, canonical, open graph и twitter meta через файловые соглашения App Router.

Индексация: человеко-понятные URL, sitemap/robots, устранение дубликатов, корректная пагинация.

Безопасность
JWT: подпись, сроки действия, ролевые скоупы; ротация refresh-токенов; защита приватных маршрутов middleware-уровнем.

Валидация входных данных: строгие схемы, лимиты длины и списки разрешенных значений; параметризованные запросы pgx.

Защита файлов и чатов: проверки доступа к комнатам и вложениям; лимиты частоты запросов.

Производительность и кеширование
ISR: revalidate на списках и карточках; on-demand регенерация при публикации/редактировании контента.


Пагинация и лимиты: размер страниц по умолчанию и верхние границы; оптимизация JSON-полей при необходимости.


Метрики: пулы соединений, задержки SQL, ошибки, частота ISR-регенераций; алерты по SLA.

Тестирование и качество
Юнит-тесты сервисов и репозиториев; контрактные тесты API; фикстуры БД и миграции в CI.

E2E сценарии: публикация вакансии, отклик с чатом, фильтры поиска, видимость резюме.

Критерии приемки (MVP)
Вакансии: публикация работодателем, отображение в списке, карточка с данными и корректными метаданными.

Резюме и отклики: создание резюме, отклик на вакансию, автоматическое создание чат-комнаты и обмен сообщениями.

Производительность и SEO: SSG/ISR на ключевых маршрутах, корректные OG-превью, быстрая первая загрузка.

### API бекэнда
\docs\swagger.yaml - актуальные эндпоинты бекэнда